<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>

    </style>
</head>
<body>
<button id="change-worker">更换worker</button>
<script type="module">
    document.addEventListener("DOMContentLoaded", function () {
        const changeWorker = document.getElementById("change-worker");

        navigator.serviceWorker.register("./基本属性方法测试.js").then(async register => {
            console.log("初始serviceWorker注册完毕")
        });

        navigator.serviceWorker.addEventListener("controllerchange", function (ev) {
            console.log("主线程触发controllerchange事件", ev)
        })

        changeWorker.addEventListener("click", async function () {
            const register = await navigator.serviceWorker.register("./更换其他serviceWorker测试.js")
            console.log("新serviceWorker注册完毕")
        })
    })
</script>
</body>
</html>